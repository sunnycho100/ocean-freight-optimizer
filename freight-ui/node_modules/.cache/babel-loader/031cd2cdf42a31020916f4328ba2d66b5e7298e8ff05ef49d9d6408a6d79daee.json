{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\PNS\\\\Desktop\\\\automation\\\\freight-ui\\\\src\\\\components\\\\SummaryDashboard.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst API_BASE = 'http://localhost:5000/api';\nconst SummaryDashboard = () => {\n  _s();\n  const [destinationMappings, setDestinationMappings] = useState([]);\n  const [selectedMapping, setSelectedMapping] = useState(null);\n  const [oneContainerType, setOneContainerType] = useState('40 FT High Cube Dry');\n  const [hapagContainerType, setHapagContainerType] = useState('40STD');\n  const [oneData, setOneData] = useState(null);\n  const [hapagData, setHapagData] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const USD_TO_EUR = 0.86;\n\n  // Helper to convert between ONE and HAPAG container types\n  const oneToHapag = oneType => {\n    const map = {\n      '20 FT Dry': '20STD',\n      '40 FT Dry': '40STD',\n      '40 FT High Cube Dry': '40HC'\n    };\n    return map[oneType] || '40STD';\n  };\n  const hapagToOne = hapagType => {\n    const map = {\n      '20STD': '20 FT Dry',\n      '40STD': '40 FT Dry',\n      '40HC': '40 FT High Cube Dry'\n    };\n    return map[hapagType] || '40 FT High Cube Dry';\n  };\n\n  // Helper to fetch with timeout\n  const fetchWithTimeout = async (url, timeout = 3000) => {\n    const controller = new AbortController();\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\n    try {\n      const response = await fetch(url, {\n        signal: controller.signal\n      });\n      clearTimeout(timeoutId);\n      return response;\n    } catch (error) {\n      clearTimeout(timeoutId);\n      throw error;\n    }\n  };\n\n  // Helper to get short container type display\n  const getContainerShortName = containerType => {\n    const map = {\n      '20 FT Dry': '20 FT',\n      '40 FT Dry': '40 FT',\n      '40 FT High Cube Dry': '40 HC'\n    };\n    return map[containerType] || containerType;\n  };\n\n  // Helper to extract city name from destination string\n  const extractCityName = destination => {\n    // For ONE format: \"OEGSTGEEST, NETHERLANDS\" -> \"OEGSTGEEST\"\n    // For HAPAG format: \"OEGSTGEEST\" -> \"OEGSTGEEST\"\n    // Also handles: \"VALENCE, DROME, FRANCE\" -> \"VALENCE\"\n    return destination.split(',')[0].trim();\n  };\n\n  // Helper to normalize city name for matching\n  const normalizeCityName = cityName => {\n    return cityName.replace(/\\s+/g, ' ') // Normalize spaces\n    .replace(/\\/.*$/, '') // Remove suffix like \"/DROME\"\n    .replace(/\\s*B\\.|\\s*I\\.|\\s*IM\\s+/, ' ') // Normalize German abbreviations\n    .replace(/-/g, ' ') // Remove hyphens (e.g., \"ARQUES-LA-BATAILLE\" -> \"ARQUES LA BATAILLE\")\n    .replace(/\\s+/g, ' ') // Normalize spaces again after hyphen removal\n    .trim().toUpperCase();\n  };\n\n  // Create destination mappings\n  const createDestinationMappings = (oneDests, hapagDests) => {\n    const mappings = [];\n    const used = new Set();\n\n    // Match ONE destinations to HAPAG\n    oneDests.forEach(oneDest => {\n      const oneCity = normalizeCityName(extractCityName(oneDest));\n      let matchedHapag = null;\n      for (const hapagDest of hapagDests) {\n        const hapagCity = normalizeCityName(extractCityName(hapagDest));\n        if (oneCity === hapagCity || oneCity.includes(hapagCity) || hapagCity.includes(oneCity)) {\n          matchedHapag = hapagDest;\n          used.add(hapagDest);\n          break;\n        }\n      }\n      mappings.push({\n        displayName: extractCityName(oneDest),\n        oneDestination: oneDest,\n        hapagDestination: matchedHapag\n      });\n    });\n\n    // Add remaining HAPAG destinations that didn't match\n    hapagDests.forEach(hapagDest => {\n      if (!used.has(hapagDest)) {\n        mappings.push({\n          displayName: extractCityName(hapagDest),\n          oneDestination: null,\n          hapagDestination: hapagDest\n        });\n      }\n    });\n    return mappings.sort((a, b) => a.displayName.localeCompare(b.displayName));\n  };\n\n  // Fetch destinations\n  useEffect(() => {\n    const fetchDestinations = async () => {\n      try {\n        setLoading(true);\n        const [oneRes, hapagRes] = await Promise.allSettled([fetchWithTimeout(`${API_BASE}/destinations`, 3000), fetchWithTimeout(`${API_BASE}/hapag/destinations`, 3000)]);\n        let oneDest = [];\n        let hapagDest = [];\n        if (oneRes.status === 'fulfilled' && oneRes.value.ok) {\n          oneDest = await oneRes.value.json();\n        } else {\n          console.warn('Failed to fetch ONE destinations');\n        }\n        if (hapagRes.status === 'fulfilled' && hapagRes.value.ok) {\n          hapagDest = await hapagRes.value.json();\n        } else {\n          console.warn('Failed to fetch HAPAG destinations');\n        }\n\n        // Create mappings between ONE and HAPAG destinations\n        const mappings = createDestinationMappings(oneDest, hapagDest);\n        setDestinationMappings(mappings);\n        if (mappings.length > 0) {\n          setSelectedMapping(mappings[0]);\n        }\n\n        // If both failed, show error\n        if (oneRes.status === 'rejected' && hapagRes.status === 'rejected') {\n          setError('Failed to fetch destinations. Please ensure the API server is running.');\n        }\n      } catch (err) {\n        console.error('Error fetching destinations:', err);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchDestinations();\n  }, []);\n\n  // Fetch ONE data\n  useEffect(() => {\n    if (!(selectedMapping !== null && selectedMapping !== void 0 && selectedMapping.oneDestination) || !oneContainerType) {\n      setOneData(null);\n      return;\n    }\n    const fetchOneData = async () => {\n      try {\n        const res = await fetchWithTimeout(`${API_BASE}/routes/${encodeURIComponent(selectedMapping.oneDestination)}/${encodeURIComponent(oneContainerType)}`, 3000);\n        if (res.ok) {\n          const data = await res.json();\n          setOneData(data);\n        } else {\n          console.warn('No ONE routes found for selected criteria');\n          setOneData(null);\n        }\n      } catch (err) {\n        console.error('Failed to fetch ONE data:', err);\n        setOneData(null);\n      }\n    };\n    fetchOneData();\n  }, [selectedMapping, oneContainerType]);\n\n  // Fetch HAPAG data\n  useEffect(() => {\n    if (!(selectedMapping !== null && selectedMapping !== void 0 && selectedMapping.hapagDestination)) {\n      setHapagData(null);\n      return;\n    }\n    const fetchHapagData = async () => {\n      try {\n        const res = await fetchWithTimeout(`${API_BASE}/hapag/route/${encodeURIComponent(selectedMapping.hapagDestination)}`, 3000);\n        if (res.ok) {\n          const data = await res.json();\n          setHapagData(data);\n        } else {\n          console.warn('No HAPAG routes found for selected destination');\n          setHapagData(null);\n        }\n      } catch (err) {\n        console.error('Failed to fetch HAPAG data:', err);\n        setHapagData(null);\n      }\n    };\n    fetchHapagData();\n  }, [selectedMapping]);\n\n  // Calculate HAPAG total in EUR\n  const calculateHapagTotal = () => {\n    if (!hapagData) return 0;\n    let totalEUR = 0;\n    const route = hapagData.route;\n\n    // Ocean Freight\n    if (route.oceanFreight) {\n      const val = hapagContainerType === '20STD' ? route.oceanFreight.value20STD : hapagContainerType === '40STD' ? route.oceanFreight.value40STD : route.oceanFreight.value40HC;\n      if (val && val !== '-') {\n        const amount = parseFloat(val.replace(/,/g, '')) || 0;\n        if (route.oceanFreight.curr === 'USD') {\n          totalEUR += amount * USD_TO_EUR;\n        } else {\n          totalEUR += amount;\n        }\n      }\n    }\n\n    // Destination Landfreight (use first valid option or main value)\n    if (route.destinationLandfreight) {\n      let landVal = '';\n      let curr = route.destinationLandfreight.curr;\n      if (route.destinationLandfreight.subOptions && route.destinationLandfreight.subOptions.length > 0) {\n        // Find first valid sub-option\n        const validOption = route.destinationLandfreight.subOptions.find(opt => {\n          const v = hapagContainerType === '20STD' ? opt.value20 : hapagContainerType === '40STD' ? opt.value40 : opt.value40HC;\n          return v && v !== '-';\n        });\n        if (validOption) {\n          landVal = hapagContainerType === '20STD' ? validOption.value20 : hapagContainerType === '40STD' ? validOption.value40 : validOption.value40HC;\n        }\n      } else {\n        landVal = hapagContainerType === '20STD' ? route.destinationLandfreight.value20STD : hapagContainerType === '40STD' ? route.destinationLandfreight.value40STD : route.destinationLandfreight.value40HC;\n      }\n      if (landVal && landVal !== '-') {\n        const amount = parseFloat(landVal.replace(/,/g, '')) || 0;\n        if (curr === 'USD') {\n          totalEUR += amount * USD_TO_EUR;\n        } else {\n          totalEUR += amount;\n        }\n      }\n    }\n    return totalEUR;\n  };\n\n  // Get top 3 ONE routes\n  const getTopThreeONE = () => {\n    if (!oneData || !oneData.routes) return [];\n    return oneData.routes.slice(0, 3);\n  };\n\n  // Calculate ONE route total in EUR\n  const calculateONETotal = route => {\n    const inland = route.inlandRate || 0;\n    const ocean = route.oceanRate || 0;\n    return inland + ocean;\n  };\n  const topThreeONE = getTopThreeONE();\n  const hapagTotal = calculateHapagTotal();\n  const lowestONETotal = topThreeONE.length > 0 ? calculateONETotal(topThreeONE[0]) : Infinity;\n  const winner = lowestONETotal < hapagTotal ? 'ONE' : 'HAPAG-Lloyd';\n  const winnerRoute = winner === 'ONE' && topThreeONE.length > 0 ? `via ${topThreeONE[0].pod}` : hapagData ? `via ${hapagData.route.via}` : '';\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: \"Loading...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 323,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 322,\n      columnNumber: 7\n    }, this);\n  }\n  if (error) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state error-state\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 330,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"header-title\",\n        children: \"Rate Comparison Summary\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 340,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"header-subtitle\",\n        children: \"Comparing ONE vs HAPAG-LLOYD Routes\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 341,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 339,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card filters-panel\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"filters-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"filter-label\",\n              children: \"Destination\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 351,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: (selectedMapping === null || selectedMapping === void 0 ? void 0 : selectedMapping.displayName) || '',\n              onChange: e => {\n                const mapping = destinationMappings.find(m => m.displayName === e.target.value);\n                if (mapping) setSelectedMapping(mapping);\n              },\n              children: destinationMappings.map(mapping => /*#__PURE__*/_jsxDEV(\"option\", {\n                value: mapping.displayName,\n                children: [mapping.displayName, !mapping.oneDestination && ' (HAPAG only)', !mapping.hapagDestination && ' (ONE only)']\n              }, mapping.displayName, true, {\n                fileName: _jsxFileName,\n                lineNumber: 360,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 352,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 350,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"filter-group\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"filter-label\",\n              children: \"Container Type\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: oneContainerType,\n              onChange: e => {\n                setOneContainerType(e.target.value);\n                setHapagContainerType(oneToHapag(e.target.value));\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"20 FT Dry\",\n                children: \"20 FT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 377,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"40 FT Dry\",\n                children: \"40 FT\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"40 FT High Cube Dry\",\n                children: \"40 HC\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 379,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 368,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      style: {\n        backgroundColor: 'var(--color-primary-lighter)',\n        borderLeft: '4px solid var(--color-primary)'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            textAlign: 'left'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              color: 'var(--color-primary)',\n              fontSize: '20px',\n              margin: '0 0 4px 0',\n              fontWeight: 600\n            },\n            children: [\"Best Rate: \", winner, \" \", winnerRoute && /*#__PURE__*/_jsxDEV(\"span\", {\n              style: {\n                fontWeight: 400,\n                fontSize: '16px'\n              },\n              children: [\"(\", winnerRoute, \")\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 391,\n              columnNumber: 51\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 390,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: 'var(--color-text-secondary)',\n              fontSize: '16px',\n              margin: 0,\n              fontWeight: 600\n            },\n            children: [\"EUR \", winner === 'ONE' ? lowestONETotal.toLocaleString(undefined, {\n              minimumFractionDigits: 2,\n              maximumFractionDigits: 2\n            }) : hapagTotal.toLocaleString(undefined, {\n              minimumFractionDigits: 2,\n              maximumFractionDigits: 2\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 393,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 389,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 388,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 387,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"card-title\",\n          children: [\"ONE - Top 3 Routes (\", getContainerShortName(oneContainerType), \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 406,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 405,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: topThreeONE.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"route-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"route-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Rank\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 414,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"POD (Intermediate Port)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 415,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Transport Mode\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 416,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: \"Inland (EUR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 417,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: \"Ocean (EUR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 418,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: \"Total (EUR)\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 419,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 413,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: topThreeONE.map((route, idx) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"col-rank\",\n                  children: /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"rank-badge rank-badge--top\",\n                    children: idx + 1\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 426,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 425,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: route.pod\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 428,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: route.mode\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 429,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 600\n                  },\n                  children: (route.inlandRate || 0).toLocaleString(undefined, {\n                    minimumFractionDigits: 2,\n                    maximumFractionDigits: 2\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 430,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 600\n                  },\n                  children: (route.oceanRate || 0).toLocaleString(undefined, {\n                    minimumFractionDigits: 2,\n                    maximumFractionDigits: 2\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 433,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 700,\n                    color: 'var(--color-primary)'\n                  },\n                  children: route.totalRate.toLocaleString(undefined, {\n                    minimumFractionDigits: 2,\n                    maximumFractionDigits: 2\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 436,\n                  columnNumber: 23\n                }, this)]\n              }, idx, true, {\n                fileName: _jsxFileName,\n                lineNumber: 424,\n                columnNumber: 21\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 422,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 411,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 410,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: \"No ONE routes available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 445,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 408,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 404,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-header\",\n        children: /*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"card-title\",\n          children: [\"HAPAG-Lloyd - \", (selectedMapping === null || selectedMapping === void 0 ? void 0 : selectedMapping.displayName) || 'N/A', \" (\", hapagContainerType, \")\", hapagData && /*#__PURE__*/_jsxDEV(\"span\", {\n            style: {\n              fontWeight: 400,\n              fontSize: '14px'\n            },\n            children: [\" via \", hapagData.route.via]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 455,\n            columnNumber: 27\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 453,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 452,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card-body\",\n        children: hapagData ? /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"route-table-container\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"route-table\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Route\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 464,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  children: \"Charge Type\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 465,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: \"Rate\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 466,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  style: {\n                    textAlign: 'right'\n                  },\n                  children: \"EUR Equivalent\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 467,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 463,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 462,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: [hapagData.route.oceanFreight && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [hapagData.route.from, \" \\u2192 \", hapagData.route.via, \" \\u2192 \", hapagData.route.to]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 474,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Ocean Freight\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 475,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 600\n                  },\n                  children: [hapagData.route.oceanFreight.curr, ' ', hapagContainerType === '20STD' ? hapagData.route.oceanFreight.value20STD : hapagContainerType === '40STD' ? hapagData.route.oceanFreight.value40STD : hapagData.route.oceanFreight.value40HC]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 476,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 600\n                  },\n                  children: (() => {\n                    const val = hapagContainerType === '20STD' ? hapagData.route.oceanFreight.value20STD : hapagContainerType === '40STD' ? hapagData.route.oceanFreight.value40STD : hapagData.route.oceanFreight.value40HC;\n                    if (val && val !== '-') {\n                      const amount = parseFloat(val.replace(/,/g, '')) || 0;\n                      const eurAmount = hapagData.route.oceanFreight.curr === 'USD' ? amount * USD_TO_EUR : amount;\n                      return eurAmount.toLocaleString(undefined, {\n                        minimumFractionDigits: 2\n                      });\n                    }\n                    return '-';\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 482,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 473,\n                columnNumber: 21\n              }, this), hapagData.route.destinationLandfreight && /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 501,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: \"Destination Landfreight\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 502,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 600\n                  },\n                  children: [hapagData.route.destinationLandfreight.curr, ' ', (() => {\n                    if (hapagData.route.destinationLandfreight.subOptions && hapagData.route.destinationLandfreight.subOptions.length > 0) {\n                      const validOpt = hapagData.route.destinationLandfreight.subOptions.find(opt => {\n                        const v = hapagContainerType === '20STD' ? opt.value20 : hapagContainerType === '40STD' ? opt.value40 : opt.value40HC;\n                        return v && v !== '-';\n                      });\n                      if (validOpt) {\n                        return hapagContainerType === '20STD' ? validOpt.value20 : hapagContainerType === '40STD' ? validOpt.value40 : validOpt.value40HC;\n                      }\n                      return '-';\n                    }\n                    return hapagContainerType === '20STD' ? hapagData.route.destinationLandfreight.value20STD : hapagContainerType === '40STD' ? hapagData.route.destinationLandfreight.value40STD : hapagData.route.destinationLandfreight.value40HC;\n                  })()]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 503,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 600\n                  },\n                  children: (() => {\n                    let val = '';\n                    if (hapagData.route.destinationLandfreight.subOptions && hapagData.route.destinationLandfreight.subOptions.length > 0) {\n                      const validOpt = hapagData.route.destinationLandfreight.subOptions.find(opt => {\n                        const v = hapagContainerType === '20STD' ? opt.value20 : hapagContainerType === '40STD' ? opt.value40 : opt.value40HC;\n                        return v && v !== '-';\n                      });\n                      if (validOpt) {\n                        val = hapagContainerType === '20STD' ? validOpt.value20 : hapagContainerType === '40STD' ? validOpt.value40 : validOpt.value40HC;\n                      }\n                    } else {\n                      val = hapagContainerType === '20STD' ? hapagData.route.destinationLandfreight.value20STD : hapagContainerType === '40STD' ? hapagData.route.destinationLandfreight.value40STD : hapagData.route.destinationLandfreight.value40HC;\n                    }\n                    if (val && val !== '-') {\n                      const amount = parseFloat(val.replace(/,/g, '')) || 0;\n                      const eurAmount = hapagData.route.destinationLandfreight.curr === 'USD' ? amount * USD_TO_EUR : amount;\n                      return eurAmount.toLocaleString(undefined, {\n                        minimumFractionDigits: 2\n                      });\n                    }\n                    return '-';\n                  })()\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 525,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 500,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"tr\", {\n                style: {\n                  borderTop: '2px solid var(--color-primary)',\n                  backgroundColor: 'var(--color-primary-lighter)'\n                },\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 559,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: /*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Total Rate\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 560,\n                    columnNumber: 25\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 560,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {}, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 561,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  style: {\n                    textAlign: 'right',\n                    fontWeight: 700,\n                    fontSize: '18px',\n                    color: 'var(--color-primary)'\n                  },\n                  children: hapagTotal.toLocaleString(undefined, {\n                    minimumFractionDigits: 2\n                  })\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 562,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 558,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 470,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 461,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 460,\n          columnNumber: 13\n        }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"empty-state\",\n          children: \"No HAPAG routes available\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 570,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 458,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 451,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n_s(SummaryDashboard, \"jY4qozY1T0+UG9sykxkMUN0hg30=\");\n_c = SummaryDashboard;\nexport default SummaryDashboard;\nvar _c;\n$RefreshReg$(_c, \"SummaryDashboard\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","Fragment","_Fragment","API_BASE","SummaryDashboard","_s","destinationMappings","setDestinationMappings","selectedMapping","setSelectedMapping","oneContainerType","setOneContainerType","hapagContainerType","setHapagContainerType","oneData","setOneData","hapagData","setHapagData","loading","setLoading","error","setError","USD_TO_EUR","oneToHapag","oneType","map","hapagToOne","hapagType","fetchWithTimeout","url","timeout","controller","AbortController","timeoutId","setTimeout","abort","response","fetch","signal","clearTimeout","getContainerShortName","containerType","extractCityName","destination","split","trim","normalizeCityName","cityName","replace","toUpperCase","createDestinationMappings","oneDests","hapagDests","mappings","used","Set","forEach","oneDest","oneCity","matchedHapag","hapagDest","hapagCity","includes","add","push","displayName","oneDestination","hapagDestination","has","sort","a","b","localeCompare","fetchDestinations","oneRes","hapagRes","Promise","allSettled","status","value","ok","json","console","warn","length","err","fetchOneData","res","encodeURIComponent","data","fetchHapagData","calculateHapagTotal","totalEUR","route","oceanFreight","val","value20STD","value40STD","value40HC","amount","parseFloat","curr","destinationLandfreight","landVal","subOptions","validOption","find","opt","v","value20","value40","getTopThreeONE","routes","slice","calculateONETotal","inland","inlandRate","ocean","oceanRate","topThreeONE","hapagTotal","lowestONETotal","Infinity","winner","winnerRoute","pod","via","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onChange","e","mapping","m","target","style","backgroundColor","borderLeft","textAlign","color","fontSize","margin","fontWeight","toLocaleString","undefined","minimumFractionDigits","maximumFractionDigits","idx","mode","totalRate","from","to","eurAmount","validOpt","borderTop","_c","$RefreshReg$"],"sources":["C:/Users/PNS/Desktop/automation/freight-ui/src/components/SummaryDashboard.tsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { LaneData, HapagLaneData } from '../types';\r\n\r\nconst API_BASE = 'http://localhost:5000/api';\r\n\r\ninterface DestinationOption {\r\n  destination: string;\r\n  displayName: string;\r\n}\r\n\r\ninterface DestinationMapping {\r\n  displayName: string;\r\n  oneDestination: string | null;\r\n  hapagDestination: string | null;\r\n}\r\n\r\nconst SummaryDashboard: React.FC = () => {\r\n  const [destinationMappings, setDestinationMappings] = useState<DestinationMapping[]>([]);\r\n  const [selectedMapping, setSelectedMapping] = useState<DestinationMapping | null>(null);\r\n  const [oneContainerType, setOneContainerType] = useState<string>('40 FT High Cube Dry');\r\n  const [hapagContainerType, setHapagContainerType] = useState<'20STD' | '40STD' | '40HC'>('40STD');\r\n  \r\n  const [oneData, setOneData] = useState<LaneData | null>(null);\r\n  const [hapagData, setHapagData] = useState<HapagLaneData | null>(null);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState<string | null>(null);\r\n\r\n  const USD_TO_EUR = 0.86;\r\n\r\n  // Helper to convert between ONE and HAPAG container types\r\n  const oneToHapag = (oneType: string): '20STD' | '40STD' | '40HC' => {\r\n    const map: Record<string, '20STD' | '40STD' | '40HC'> = {\r\n      '20 FT Dry': '20STD',\r\n      '40 FT Dry': '40STD',\r\n      '40 FT High Cube Dry': '40HC',\r\n    };\r\n    return map[oneType] || '40STD';\r\n  };\r\n\r\n  const hapagToOne = (hapagType: '20STD' | '40STD' | '40HC'): string => {\r\n    const map: Record<string, string> = {\r\n      '20STD': '20 FT Dry',\r\n      '40STD': '40 FT Dry',\r\n      '40HC': '40 FT High Cube Dry',\r\n    };\r\n    return map[hapagType] || '40 FT High Cube Dry';\r\n  };\r\n\r\n  // Helper to fetch with timeout\r\n  const fetchWithTimeout = async (url: string, timeout = 3000): Promise<Response> => {\r\n    const controller = new AbortController();\r\n    const timeoutId = setTimeout(() => controller.abort(), timeout);\r\n    try {\r\n      const response = await fetch(url, { signal: controller.signal });\r\n      clearTimeout(timeoutId);\r\n      return response;\r\n    } catch (error) {\r\n      clearTimeout(timeoutId);\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  // Helper to get short container type display\r\n  const getContainerShortName = (containerType: string): string => {\r\n    const map: Record<string, string> = {\r\n      '20 FT Dry': '20 FT',\r\n      '40 FT Dry': '40 FT',\r\n      '40 FT High Cube Dry': '40 HC',\r\n    };\r\n    return map[containerType] || containerType;\r\n  };\r\n\r\n  // Helper to extract city name from destination string\r\n  const extractCityName = (destination: string): string => {\r\n    // For ONE format: \"OEGSTGEEST, NETHERLANDS\" -> \"OEGSTGEEST\"\r\n    // For HAPAG format: \"OEGSTGEEST\" -> \"OEGSTGEEST\"\r\n    // Also handles: \"VALENCE, DROME, FRANCE\" -> \"VALENCE\"\r\n    return destination.split(',')[0].trim();\r\n  };\r\n\r\n  // Helper to normalize city name for matching\r\n  const normalizeCityName = (cityName: string): string => {\r\n    return cityName\r\n      .replace(/\\s+/g, ' ')  // Normalize spaces\r\n      .replace(/\\/.*$/, '')  // Remove suffix like \"/DROME\"\r\n      .replace(/\\s*B\\.|\\s*I\\.|\\s*IM\\s+/, ' ')  // Normalize German abbreviations\r\n      .replace(/-/g, ' ')  // Remove hyphens (e.g., \"ARQUES-LA-BATAILLE\" -> \"ARQUES LA BATAILLE\")\r\n      .replace(/\\s+/g, ' ')  // Normalize spaces again after hyphen removal\r\n      .trim()\r\n      .toUpperCase();\r\n  };\r\n\r\n  // Create destination mappings\r\n  const createDestinationMappings = (oneDests: string[], hapagDests: string[]): DestinationMapping[] => {\r\n    const mappings: DestinationMapping[] = [];\r\n    const used = new Set<string>();\r\n\r\n    // Match ONE destinations to HAPAG\r\n    oneDests.forEach(oneDest => {\r\n      const oneCity = normalizeCityName(extractCityName(oneDest));\r\n      let matchedHapag: string | null = null;\r\n\r\n      for (const hapagDest of hapagDests) {\r\n        const hapagCity = normalizeCityName(extractCityName(hapagDest));\r\n        if (oneCity === hapagCity || oneCity.includes(hapagCity) || hapagCity.includes(oneCity)) {\r\n          matchedHapag = hapagDest;\r\n          used.add(hapagDest);\r\n          break;\r\n        }\r\n      }\r\n\r\n      mappings.push({\r\n        displayName: extractCityName(oneDest),\r\n        oneDestination: oneDest,\r\n        hapagDestination: matchedHapag,\r\n      });\r\n    });\r\n\r\n    // Add remaining HAPAG destinations that didn't match\r\n    hapagDests.forEach(hapagDest => {\r\n      if (!used.has(hapagDest)) {\r\n        mappings.push({\r\n          displayName: extractCityName(hapagDest),\r\n          oneDestination: null,\r\n          hapagDestination: hapagDest,\r\n        });\r\n      }\r\n    });\r\n\r\n    return mappings.sort((a, b) => a.displayName.localeCompare(b.displayName));\r\n  };\r\n\r\n  // Fetch destinations\r\n  useEffect(() => {\r\n    const fetchDestinations = async () => {\r\n      try {\r\n        setLoading(true);\r\n        const [oneRes, hapagRes] = await Promise.allSettled([\r\n          fetchWithTimeout(`${API_BASE}/destinations`, 3000),\r\n          fetchWithTimeout(`${API_BASE}/hapag/destinations`, 3000),\r\n        ]);\r\n\r\n        let oneDest: string[] = [];\r\n        let hapagDest: string[] = [];\r\n\r\n        if (oneRes.status === 'fulfilled' && oneRes.value.ok) {\r\n          oneDest = await oneRes.value.json();\r\n        } else {\r\n          console.warn('Failed to fetch ONE destinations');\r\n        }\r\n\r\n        if (hapagRes.status === 'fulfilled' && hapagRes.value.ok) {\r\n          hapagDest = await hapagRes.value.json();\r\n        } else {\r\n          console.warn('Failed to fetch HAPAG destinations');\r\n        }\r\n\r\n        // Create mappings between ONE and HAPAG destinations\r\n        const mappings = createDestinationMappings(oneDest, hapagDest);\r\n        setDestinationMappings(mappings);\r\n        if (mappings.length > 0) {\r\n          setSelectedMapping(mappings[0]);\r\n        }\r\n\r\n        // If both failed, show error\r\n        if (oneRes.status === 'rejected' && hapagRes.status === 'rejected') {\r\n          setError('Failed to fetch destinations. Please ensure the API server is running.');\r\n        }\r\n      } catch (err) {\r\n        console.error('Error fetching destinations:', err);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    fetchDestinations();\r\n  }, []);\r\n\r\n  // Fetch ONE data\r\n  useEffect(() => {\r\n    if (!selectedMapping?.oneDestination || !oneContainerType) {\r\n      setOneData(null);\r\n      return;\r\n    }\r\n\r\n    const fetchOneData = async () => {\r\n      try {\r\n        const res = await fetchWithTimeout(\r\n          `${API_BASE}/routes/${encodeURIComponent(selectedMapping.oneDestination!)}/${encodeURIComponent(oneContainerType)}`,\r\n          3000\r\n        );\r\n\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          setOneData(data);\r\n        } else {\r\n          console.warn('No ONE routes found for selected criteria');\r\n          setOneData(null);\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to fetch ONE data:', err);\r\n        setOneData(null);\r\n      }\r\n    };\r\n\r\n    fetchOneData();\r\n  }, [selectedMapping, oneContainerType]);\r\n\r\n  // Fetch HAPAG data\r\n  useEffect(() => {\r\n    if (!selectedMapping?.hapagDestination) {\r\n      setHapagData(null);\r\n      return;\r\n    }\r\n\r\n    const fetchHapagData = async () => {\r\n      try {\r\n        const res = await fetchWithTimeout(\r\n          `${API_BASE}/hapag/route/${encodeURIComponent(selectedMapping.hapagDestination!)}`,\r\n          3000\r\n        );\r\n\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          setHapagData(data);\r\n        } else {\r\n          console.warn('No HAPAG routes found for selected destination');\r\n          setHapagData(null);\r\n        }\r\n      } catch (err) {\r\n        console.error('Failed to fetch HAPAG data:', err);\r\n        setHapagData(null);\r\n      }\r\n    };\r\n\r\n    fetchHapagData();\r\n  }, [selectedMapping]);\r\n\r\n  // Calculate HAPAG total in EUR\r\n  const calculateHapagTotal = (): number => {\r\n    if (!hapagData) return 0;\r\n    \r\n    let totalEUR = 0;\r\n    const route = hapagData.route;\r\n    \r\n    // Ocean Freight\r\n    if (route.oceanFreight) {\r\n      const val = hapagContainerType === '20STD' ? route.oceanFreight.value20STD :\r\n                  hapagContainerType === '40STD' ? route.oceanFreight.value40STD :\r\n                  route.oceanFreight.value40HC;\r\n      if (val && val !== '-') {\r\n        const amount = parseFloat(val.replace(/,/g, '')) || 0;\r\n        if (route.oceanFreight.curr === 'USD') {\r\n          totalEUR += amount * USD_TO_EUR;\r\n        } else {\r\n          totalEUR += amount;\r\n        }\r\n      }\r\n    }\r\n    \r\n    // Destination Landfreight (use first valid option or main value)\r\n    if (route.destinationLandfreight) {\r\n      let landVal = '';\r\n      let curr = route.destinationLandfreight.curr;\r\n      \r\n      if (route.destinationLandfreight.subOptions && route.destinationLandfreight.subOptions.length > 0) {\r\n        // Find first valid sub-option\r\n        const validOption = route.destinationLandfreight.subOptions.find(opt => {\r\n          const v = hapagContainerType === '20STD' ? opt.value20 :\r\n                    hapagContainerType === '40STD' ? opt.value40 :\r\n                    opt.value40HC;\r\n          return v && v !== '-';\r\n        });\r\n        if (validOption) {\r\n          landVal = hapagContainerType === '20STD' ? validOption.value20 :\r\n                    hapagContainerType === '40STD' ? validOption.value40 :\r\n                    validOption.value40HC;\r\n        }\r\n      } else {\r\n        landVal = hapagContainerType === '20STD' ? route.destinationLandfreight.value20STD :\r\n                  hapagContainerType === '40STD' ? route.destinationLandfreight.value40STD :\r\n                  route.destinationLandfreight.value40HC;\r\n      }\r\n      \r\n      if (landVal && landVal !== '-') {\r\n        const amount = parseFloat(landVal.replace(/,/g, '')) || 0;\r\n        if (curr === 'USD') {\r\n          totalEUR += amount * USD_TO_EUR;\r\n        } else {\r\n          totalEUR += amount;\r\n        }\r\n      }\r\n    }\r\n    \r\n    return totalEUR;\r\n  };\r\n\r\n  // Get top 3 ONE routes\r\n  const getTopThreeONE = () => {\r\n    if (!oneData || !oneData.routes) return [];\r\n    return oneData.routes.slice(0, 3);\r\n  };\r\n\r\n  // Calculate ONE route total in EUR\r\n  const calculateONETotal = (route: any): number => {\r\n    const inland = route.inlandRate || 0;\r\n    const ocean = route.oceanRate || 0;\r\n    return inland + ocean;\r\n  };\r\n\r\n  const topThreeONE = getTopThreeONE();\r\n  const hapagTotal = calculateHapagTotal();\r\n  const lowestONETotal = topThreeONE.length > 0 ? calculateONETotal(topThreeONE[0]) : Infinity;\r\n  \r\n  const winner = lowestONETotal < hapagTotal ? 'ONE' : 'HAPAG-Lloyd';\r\n  const winnerRoute = winner === 'ONE' && topThreeONE.length > 0 \r\n    ? `via ${topThreeONE[0].pod}` \r\n    : hapagData ? `via ${hapagData.route.via}` : '';\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"empty-state\">Loading...</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (error) {\r\n    return (\r\n      <div className=\"card\">\r\n        <div className=\"empty-state error-state\">{error}</div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {/* Header */}\r\n      <header className=\"header\">\r\n        <h1 className=\"header-title\">Rate Comparison Summary</h1>\r\n        <p className=\"header-subtitle\">\r\n          Comparing ONE vs HAPAG-LLOYD Routes\r\n        </p>\r\n      </header>\r\n\r\n      {/* Destination Selectors */}\r\n      <div className=\"card filters-panel\">\r\n        <div className=\"card-body\">\r\n          <div className=\"filters-content\">\r\n            <div className=\"filter-group\">\r\n              <label className=\"filter-label\">Destination</label>\r\n              <select\r\n                value={selectedMapping?.displayName || ''}\r\n                onChange={(e) => {\r\n                  const mapping = destinationMappings.find(m => m.displayName === e.target.value);\r\n                  if (mapping) setSelectedMapping(mapping);\r\n                }}\r\n              >\r\n                {destinationMappings.map((mapping) => (\r\n                  <option key={mapping.displayName} value={mapping.displayName}>\r\n                    {mapping.displayName}\r\n                    {!mapping.oneDestination && ' (HAPAG only)'}\r\n                    {!mapping.hapagDestination && ' (ONE only)'}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <div className=\"filter-group\">\r\n              <label className=\"filter-label\">Container Type</label>\r\n              <select\r\n                value={oneContainerType}\r\n                onChange={(e) => {\r\n                  setOneContainerType(e.target.value);\r\n                  setHapagContainerType(oneToHapag(e.target.value));\r\n                }}\r\n              >\r\n                <option value=\"20 FT Dry\">20 FT</option>\r\n                <option value=\"40 FT Dry\">40 FT</option>\r\n                <option value=\"40 FT High Cube Dry\">40 HC</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Winner Banner */}\r\n      <div className=\"card\" style={{ backgroundColor: 'var(--color-primary-lighter)', borderLeft: '4px solid var(--color-primary)' }}>\r\n        <div className=\"card-body\">\r\n          <div style={{ textAlign: 'left' }}>\r\n            <h2 style={{ color: 'var(--color-primary)', fontSize: '20px', margin: '0 0 4px 0', fontWeight: 600 }}>\r\n              Best Rate: {winner} {winnerRoute && <span style={{ fontWeight: 400, fontSize: '16px' }}>({winnerRoute})</span>}\r\n            </h2>\r\n            <p style={{ color: 'var(--color-text-secondary)', fontSize: '16px', margin: 0, fontWeight: 600 }}>\r\n              EUR {winner === 'ONE' \r\n                ? lowestONETotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n                : hapagTotal.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })\r\n              }\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      {/* ONE Routes */}\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"card-title\">ONE - Top 3 Routes ({getContainerShortName(oneContainerType)})</h2>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {topThreeONE.length > 0 ? (\r\n            <div className=\"route-table-container\">\r\n              <table className=\"route-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Rank</th>\r\n                    <th>POD (Intermediate Port)</th>\r\n                    <th>Transport Mode</th>\r\n                    <th style={{ textAlign: 'right' }}>Inland (EUR)</th>\r\n                    <th style={{ textAlign: 'right' }}>Ocean (EUR)</th>\r\n                    <th style={{ textAlign: 'right' }}>Total (EUR)</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {topThreeONE.map((route, idx) => (\r\n                    <tr key={idx}>\r\n                      <td className=\"col-rank\">\r\n                        <span className=\"rank-badge rank-badge--top\">{idx + 1}</span>\r\n                      </td>\r\n                      <td>{route.pod}</td>\r\n                      <td>{route.mode}</td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 600 }}>\r\n                        {(route.inlandRate || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                      </td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 600 }}>\r\n                        {(route.oceanRate || 0).toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                      </td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 700, color: 'var(--color-primary)' }}>\r\n                        {route.totalRate.toLocaleString(undefined, { minimumFractionDigits: 2, maximumFractionDigits: 2 })}\r\n                      </td>\r\n                    </tr>\r\n                  ))}\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ) : (\r\n            <div className=\"empty-state\">No ONE routes available</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      {/* HAPAG Route */}\r\n      <div className=\"card\">\r\n        <div className=\"card-header\">\r\n          <h2 className=\"card-title\">\r\n            HAPAG-Lloyd - {selectedMapping?.displayName || 'N/A'} ({hapagContainerType})\r\n            {hapagData && <span style={{ fontWeight: 400, fontSize: '14px' }}> via {hapagData.route.via}</span>}\r\n          </h2>\r\n        </div>\r\n        <div className=\"card-body\">\r\n          {hapagData ? (\r\n            <div className=\"route-table-container\">\r\n              <table className=\"route-table\">\r\n                <thead>\r\n                  <tr>\r\n                    <th>Route</th>\r\n                    <th>Charge Type</th>\r\n                    <th style={{ textAlign: 'right' }}>Rate</th>\r\n                    <th style={{ textAlign: 'right' }}>EUR Equivalent</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody>\r\n                  {/* Ocean Freight */}\r\n                  {hapagData.route.oceanFreight && (\r\n                    <tr>\r\n                      <td>{hapagData.route.from}  {hapagData.route.via}  {hapagData.route.to}</td>\r\n                      <td>Ocean Freight</td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 600 }}>\r\n                        {hapagData.route.oceanFreight.curr}{' '}\r\n                        {hapagContainerType === '20STD' ? hapagData.route.oceanFreight.value20STD :\r\n                         hapagContainerType === '40STD' ? hapagData.route.oceanFreight.value40STD :\r\n                         hapagData.route.oceanFreight.value40HC}\r\n                      </td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 600 }}>\r\n                        {(() => {\r\n                          const val = hapagContainerType === '20STD' ? hapagData.route.oceanFreight.value20STD :\r\n                                      hapagContainerType === '40STD' ? hapagData.route.oceanFreight.value40STD :\r\n                                      hapagData.route.oceanFreight.value40HC;\r\n                          if (val && val !== '-') {\r\n                            const amount = parseFloat(val.replace(/,/g, '')) || 0;\r\n                            const eurAmount = hapagData.route.oceanFreight.curr === 'USD' ? amount * USD_TO_EUR : amount;\r\n                            return eurAmount.toLocaleString(undefined, { minimumFractionDigits: 2 });\r\n                          }\r\n                          return '-';\r\n                        })()}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  \r\n                  {/* Destination Landfreight */}\r\n                  {hapagData.route.destinationLandfreight && (\r\n                    <tr>\r\n                      <td></td>\r\n                      <td>Destination Landfreight</td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 600 }}>\r\n                        {hapagData.route.destinationLandfreight.curr}{' '}\r\n                        {(() => {\r\n                          if (hapagData.route.destinationLandfreight.subOptions && hapagData.route.destinationLandfreight.subOptions.length > 0) {\r\n                            const validOpt = hapagData.route.destinationLandfreight.subOptions.find(opt => {\r\n                              const v = hapagContainerType === '20STD' ? opt.value20 :\r\n                                        hapagContainerType === '40STD' ? opt.value40 :\r\n                                        opt.value40HC;\r\n                              return v && v !== '-';\r\n                            });\r\n                            if (validOpt) {\r\n                              return hapagContainerType === '20STD' ? validOpt.value20 :\r\n                                     hapagContainerType === '40STD' ? validOpt.value40 :\r\n                                     validOpt.value40HC;\r\n                            }\r\n                            return '-';\r\n                          }\r\n                          return hapagContainerType === '20STD' ? hapagData.route.destinationLandfreight.value20STD :\r\n                                 hapagContainerType === '40STD' ? hapagData.route.destinationLandfreight.value40STD :\r\n                                 hapagData.route.destinationLandfreight.value40HC;\r\n                        })()}\r\n                      </td>\r\n                      <td style={{ textAlign: 'right', fontWeight: 600 }}>\r\n                        {(() => {\r\n                          let val = '';\r\n                          if (hapagData.route.destinationLandfreight.subOptions && hapagData.route.destinationLandfreight.subOptions.length > 0) {\r\n                            const validOpt = hapagData.route.destinationLandfreight.subOptions.find(opt => {\r\n                              const v = hapagContainerType === '20STD' ? opt.value20 :\r\n                                        hapagContainerType === '40STD' ? opt.value40 :\r\n                                        opt.value40HC;\r\n                              return v && v !== '-';\r\n                            });\r\n                            if (validOpt) {\r\n                              val = hapagContainerType === '20STD' ? validOpt.value20 :\r\n                                    hapagContainerType === '40STD' ? validOpt.value40 :\r\n                                    validOpt.value40HC;\r\n                            }\r\n                          } else {\r\n                            val = hapagContainerType === '20STD' ? hapagData.route.destinationLandfreight.value20STD :\r\n                                  hapagContainerType === '40STD' ? hapagData.route.destinationLandfreight.value40STD :\r\n                                  hapagData.route.destinationLandfreight.value40HC;\r\n                          }\r\n                          \r\n                          if (val && val !== '-') {\r\n                            const amount = parseFloat(val.replace(/,/g, '')) || 0;\r\n                            const eurAmount = hapagData.route.destinationLandfreight.curr === 'USD' ? amount * USD_TO_EUR : amount;\r\n                            return eurAmount.toLocaleString(undefined, { minimumFractionDigits: 2 });\r\n                          }\r\n                          return '-';\r\n                        })()}\r\n                      </td>\r\n                    </tr>\r\n                  )}\r\n                  \r\n                  {/* Total */}\r\n                  <tr style={{ borderTop: '2px solid var(--color-primary)', backgroundColor: 'var(--color-primary-lighter)' }}>\r\n                    <td></td>\r\n                    <td><strong>Total Rate</strong></td>\r\n                    <td></td>\r\n                    <td style={{ textAlign: 'right', fontWeight: 700, fontSize: '18px', color: 'var(--color-primary)' }}>\r\n                      {hapagTotal.toLocaleString(undefined, { minimumFractionDigits: 2 })}\r\n                    </td>\r\n                  </tr>\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          ) : (\r\n            <div className=\"empty-state\">No HAPAG routes available</div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SummaryDashboard;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}